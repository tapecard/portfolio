$(document).on("ready",function(){$.getJSON("js/config.json",function(e){var a=2;for(var i in e)if(e.hasOwnProperty(i)){for(var s in e[i])if("iconimage"!=s){for(var l in e[i].hasOwnProperty(s)&&($(".menu__wrapper").append('<a href="#'+s+'" tabindex="'+a+++'"><span>'+s.replace(/_/g," ")+'</span><span class="optional" style="background-image:url('+e[i].iconimage+');"></span></a>'),$(".submenu__scroller").addClass("owl-carousel").append('<div class="submenu__group" data-hash="'+s+'"><div class="submenu__elements"></div></div>')),e[i][s])if(e[i][s].hasOwnProperty(l)){let n=e[i][s][l].title;$('[data-hash="'+s+'"] .submenu__elements').append('<button class="submenu__item" data-title="'+n+'"><img src="'+e[i][s][l].icon+'" alt="icon" /></button>');let p='<div class="panel__wrapper '+e[i][s][l].type+'" data-title="'+n+'" style="display:none"><div class="panel__title"><span>'+n+"</span><span>"+e[i][s][l].date+"</span></div>";if("video"==e[i][s][l].type){let r="";"posterframe"in e[i][s][l]&&(r='poster="'+e[i][s][l].posterframe+'" ');let d=p+'<div class="panel__sidebar"><div class="panel__controls"><button class="panel__play">Play Video</button></div><div class="panel__body"><div class="panel__runtime">Runtime: '+e[i][s][l].runtime+"</div>"+e[i][s][l].body+'</div></div><div class="panel__content-wrapper">';if(e[i][s][l].image.constructor===Array){let o='<div class="imagelayer owl-carousel">';for(elem in e[i][s][l].image)o+='<video style="width:'+e[i][s][l].width+'px" '+r+'style="width:'+e[i][s][l].width+'px;height:315px;" controls="" preload="auto"><source src="'+e[i][s][l].image[elem]+'" type="video/mp4"></video>';$(".panel__collection").append(d+o+"</div></div></div></div>")}else $(".panel__collection").append(d+'<video style="width:'+e[i][s][l].width+'px" '+r+'style="width:420px;height:315px;" controls="" preload="auto"><source src="'+e[i][s][l].image+'" type="video/mp4"></video></div></div></div>')}else if("website"==e[i][s][l].type)$(".panel__collection").append(p+'<div class="panel__body">'+e[i][s][l].body+'<a href="'+e[i][s][l].url+'" target="new">'+e[i][s][l].url.replace("https://","")+'</a></div><div class="panel__content-wrapper"><a href="'+e[i][s][l].url+'" target="new"><img class="panel__image" src="'+e[i][s][l].image+'" style="width:'+e[i][s][l].width+'px" alt="'+e[i][s][l].alt+'"/></a></div></div>');else{let c='<img src="'+e[i][s][l].image+'" class="panel__image" style="width:'+e[i][s][l].width+'px" alt="'+e[i][s][l].alt+'" />';if(e[i][s][l].image.constructor===Array){let u='<div class="imagelayer owl-carousel">';for(elem in e[i][s][l].image)u+='<div><img class="panel__image" src="'+e[i][s][l].image[elem]+'" class="panel__image" style="width:'+e[i][s][l].width+'px"  alt="'+e[i][s][l].alt[[elem]]+'"/></div>';c=u+"</div>"}$(".panel__collection").append('<div class="panel__wrapper '+e[i][s][l].type+'" data-title="'+n+'" style="display:none"><div class="panel__title"><span>'+n+"</span><span>"+e[i][s][l].date+'</span></div><div class="panel__body">'+e[i][s][l].body+'<a href="'+e[i][s][l].url+'">'+e[i][s][l].url.replace("https://","")+'</a></div><div class="panel__content-wrapper">'+c+"</div></div>")}}}}let h=$(".menu__wrapper a").length;$(".menu__wrapper").css("width",100*h).attr("data-width",100).append('<div class="cursor__wrapper"><div class="cursor" style="width:100px"></div></div>'),$(".owl-carousel").each(function(){$(this).hasClass("imagelayer")?$(this).owlCarousel({items:1,nav:!0,rewind:!0,animateOut:"fadeOut",stagePadding:0}):$(this).owlCarousel({items:$(".submenu__scroller").length,nav:!1,loop:!1,center:!0,stagePadding:0,URLhashListener:!0,autoplayHoverPause:!1,startPosition:"URLHash"})})}),$(".menu__wrapper").on("click","a",function(){let e=$(this);$(".menu__wrapper a").removeClass("selected"),e.addClass("selected"),$(".panel__wrapper, .pointer__wrapper").hide(),$(".menu_shadow, .cursor__wrapper, .submenu__wrapper").show();let a=$(".menu__wrapper").data("width");$(".cursor").animate({marginLeft:e.index()*a},200),e.index();window.matchMedia("(max-width: 500px)").matches||$('[data-title="'+e.text()+'"] button').length;let i=e.index(),s=Number(e.attr("tabindex"));$(".submenu__item").each(function(e){$(this).attr("tabindex",-1)}),$(".submenu__group").eq(i).find(".submenu__item").each(function(e){$(this).attr("tabindex",e+s+2)})});let e=$(".owl-carousel");e.on("changed.owl.carousel",function(e){$(".submenu__wrapper").is(":visible")&&($(".panel__wrapper, .pointer__wrapper").hide(),$(".menu__wrapper a").removeClass("selected").eq(e.page.index).addClass("selected"),$(".menu__wrapper a").eq(e.page.index).trigger("click"))}),$(".submenu__wrapper").on("click",".submenu__item",function(){let e=$(this),a=e.index(),i=e.siblings().length+1;e.addClass("submenu__item--seenit"),$(".pointer__track").css("width",100*i);let s="px",l="500px",n=100*a;window.matchMedia("(max-width: 500px)").matches&&(l="100%",s="%",5==i?(0==a&&(n=11),1==a&&(n=31),2==a&&(n=50),3==a&&(n=69),4==a&&(n=89)):4==i&&(0==a&&(n=15),1==a&&(n=38),2==a&&(n=62),3==a&&(n=85))),$(".pointer__track").css("width",l);let p=e.data("title");$(".panel__wrapper").hide(),$('.panel__wrapper[data-title="'+p+'"], .pointer__wrapper').show(),$(".pointer__arrow").animate({left:n+s},200)}),$(document).on("click",".panel__controls button:first-child",function(){let e=$(this);if(e.closest(".panel__wrapper").find(".active").length)var a=e.closest(".panel__wrapper").find(".owl-item.active video")[0];else var a=e.closest(".panel__wrapper").find("video")[0];-1!=e.text().indexOf("Pause Video")?(a.pause(),e.attr("class","panel__play").html("Play Video")):(a.play(),e.attr("class","panel__pause").html("Pause Video"))}),t=window.setInterval(function(){$("video").each(function(){let e=$(this),a=e.closest(".panel__wrapper:has .active").find(".panel__controls button:first-child");!0==e[0].paused||!0==e[0].ended?a.attr("class","panel__play").html("Play Video"):a.attr("class","panel__pause").html("Pause Video")})},333),$(document).on("click",".panel__content-wrapper img",function(){""!==$(this).prop("style").width?($(this).attr("data-width",$(this).prop("style").width),$(this).removeAttr("style")):$(this).css("width",$(this).attr("data-width"))})});