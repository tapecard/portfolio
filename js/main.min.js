$(document).on("ready",function(){$.getJSON("js/config.json",function(e){var a=2;for(var n in e)if(e.hasOwnProperty(n)){for(var s in e[n])if("iconimage"!=s){for(var i in e[n].hasOwnProperty(s)&&($(".menu__wrapper").append('<a href="#'+s+'" tabindex="'+a+++'"><span>'+s.replace(/_/g," ")+'</span><span class="optional" style="background-image:url('+e[n].iconimage+');"></span></a>'),$(".submenu__scroller").addClass("owl-carousel").append('<div class="submenu__group" data-hash="'+s+'"><div class="submenu__elements"></div></div>')),e[n][s])if(e[n][s].hasOwnProperty(i)){let l=e[n][s][i].title;$('[data-hash="'+s+'"] .submenu__elements').append('<button class="submenu__item" data-title="'+l+'"><img src="'+e[n][s][i].icon+'" alt="icon" /></button>');let r='<div class="panel__wrapper '+e[n][s][i].type+'" data-title="'+l+'" style="display:none"><div class="panel__title"><span>'+l+"</span><span>"+e[n][s][i].date+"</span></div>";if("video"==e[n][s][i].type){let p="";"posterframe"in e[n][s][i]&&(p='poster="'+e[n][s][i].posterframe+'" '),$(".panel__collection").append(r+'<div class="panel__sidebar"><div class="panel__controls"><button class="panel__play">Play Video</button><!--<button class="panel__2x">2x</button>--!></div><div class="panel__body"><div class="panel__runtime">Runtime: '+e[n][s][i].runtime+"</div>"+e[n][s][i].body+'</div></div><div class="panel__content-wrapper"><video style="width:'+e[n][s][i].width+'px" '+p+'style="width:420px;height:315px;" controls="" preload="auto"><source src="'+e[n][s][i].image+'" type="video/mp4"></video></div></div>')}else if("website"==e[n][s][i].type)$(".panel__collection").append(r+'<div class="panel__body">'+e[n][s][i].body+'<a href="'+e[n][s][i].url+'" target="new">'+e[n][s][i].url.replace("https://","")+'</a></div><div class="panel__content-wrapper"><a href="'+e[n][s][i].url+'" target="new"><img class="panel__image" src="'+e[n][s][i].image+'" style="width:'+e[n][s][i].width+'px" alt="'+e[n][s][i].alt+'"/></a></div></div>');else{let d='<img src="'+e[n][s][i].image+'" class="panel__image" style="width:'+e[n][s][i].width+'px" alt="'+e[n][s][i].alt+'" />';if(e[n][s][i].image.constructor===Array){let o='<div class="imagelayer owl-carousel">';for(elem in e[n][s][i].image)o+='<div><img class="panel__image" src="'+e[n][s][i].image[elem]+'" class="panel__image" style="width:'+e[n][s][i].width+'px"  alt="'+e[n][s][i].alt[[elem]]+'"/></div>';d=o+"</div>"}$(".panel__collection").append('<div class="panel__wrapper '+e[n][s][i].type+'" data-title="'+l+'" style="display:none"><div class="panel__title"><span>'+l+"</span><span>"+e[n][s][i].date+'</span></div><div class="panel__body">'+e[n][s][i].body+'<a href="'+e[n][s][i].url+'">'+e[n][s][i].url.replace("https://","")+'</a></div><div class="panel__content-wrapper">'+d+"</div></div>")}}}}let c=$(".menu__wrapper a").length;$(".menu__wrapper").css("width",100*c).attr("data-width",100).append('<div class="cursor__wrapper"><div class="cursor" style="width:100px"></div></div>'),$(".owl-carousel").each(function(){$(this).hasClass("imagelayer")?$(this).owlCarousel({items:1,nav:!0,rewind:!0,animateOut:"fadeOut",stagePadding:0}):$(this).owlCarousel({items:$(".submenu__scroller").length,nav:!1,loop:!1,center:!0,stagePadding:0,URLhashListener:!0,autoplayHoverPause:!1,startPosition:"URLHash"})})}),$(".menu__wrapper").on("click","a",function(){let e=$(this);$(".menu__wrapper a").removeClass("selected"),e.addClass("selected"),$(".panel__wrapper, .pointer__wrapper").hide(),$(".menu_shadow, .cursor__wrapper, .submenu__wrapper").show();let a=$(".menu__wrapper").data("width");$(".cursor").animate({marginLeft:e.index()*a},200),e.index();window.matchMedia("(max-width: 500px)").matches||$('[data-title="'+e.text()+'"] button').length;let n=e.index(),s=Number(e.attr("tabindex"));$(".submenu__item").each(function(e){$(this).attr("tabindex",-1)}),$(".submenu__group").eq(n).find(".submenu__item").each(function(e){$(this).attr("tabindex",e+s+2)})});let e=$(".owl-carousel");e.on("changed.owl.carousel",function(e){$(".submenu__wrapper").is(":visible")&&($(".panel__wrapper, .pointer__wrapper").hide(),$(".menu__wrapper a").removeClass("selected").eq(e.page.index).addClass("selected"),$(".menu__wrapper a").eq(e.page.index).trigger("click"))}),$(".submenu__wrapper").on("click",".submenu__item",function(){let e=$(this),a=e.index(),n=e.siblings().length+1;e.addClass("submenu__item--seenit"),$(".pointer__track").css("width",100*n);let s="px",i="500px",l=100*a;window.matchMedia("(max-width: 500px)").matches&&(i="100%",s="%",5==n?(0==a&&(l=11),1==a&&(l=31),2==a&&(l=50),3==a&&(l=69),4==a&&(l=89)):4==n&&(0==a&&(l=15),1==a&&(l=38),2==a&&(l=62),3==a&&(l=85))),$(".pointer__track").css("width",i);let r=e.data("title");$(".panel__wrapper").hide(),$('.panel__wrapper[data-title="'+r+'"], .pointer__wrapper').show(),$(".pointer__arrow").animate({left:l+s},200)});let a=0;$(document).on("click","body",function(){5==++a&&($(".background__three").fadeOut(),$(".background__one").fadeIn(12e3)),10==a&&($(".background__one").fadeOut(12e3),$(".background__two").fadeIn(12e3)),15==a&&($(".background__two").fadeOut(12e3),$(".background__three").fadeIn(12e3)),20==a&&($(".background__three").fadeOut(12e3),$(".background__one").fadeIn(12e3),a=6)}),$(document).on("click",".panel__controls button:first-child",function(){let e=$(this),a=e.closest(".panel__wrapper").find("video")[0];-1!=e.text().indexOf("Pause Video")?(a.pause(),e.attr("class","panel__play").html("Play Video")):(a.play(),e.attr("class","panel__pause").html("Pause Video"))}),t=window.setInterval(function(){$("video").each(function(){let e=$(this),a=e.closest(".panel__wrapper").find(".panel__controls button:first-child");!0==e[0].paused||!0==e[0].ended?a.attr("class","panel__play").html("Play Video"):a.attr("class","panel__pause").html("Pause Video")})},333),$(document).on("click",".panel__content-wrapper img",function(){""!==$(this).prop("style").width?($(this).attr("data-width",$(this).prop("style").width),$(this).removeAttr("style")):$(this).css("width",$(this).attr("data-width"))})});