$(document).on("ready",(function(){$.getJSON("js/config.json",(function(e){var a=2;for(var t in e)if(e.hasOwnProperty(t))for(var n in e[t])if("iconimage"!=n)for(var i in e[t].hasOwnProperty(n)&&($(".menu__wrapper").append('<a href="#'+n+'" tabindex="'+a+++'"><span>'+n.replace(/_/g," ")+'</span><span class="optional" style="background-image:url('+e[t].iconimage+');"></span></a>'),$(".submenu__scroller").addClass("owl-carousel").append('<div class="submenu__group" data-hash="'+n+'"><div class="submenu__elements"></div></div>')),e[t][n])if(e[t][n].hasOwnProperty(i)){let a=e[t][n][i].title;$('[data-hash="'+n+'"] .submenu__elements').append('<button class="submenu__item" data-title="'+a+'"><img src="'+e[t][n][i].icon+'" alt="icon" /></button>');let s='<div class="panel__wrapper '+e[t][n][i].type+'" data-title="'+a+'" style="display:none"><div class="panel__title"><span>'+a+"</span><span>"+e[t][n][i].date+"</span></div>";if("video"==e[t][n][i].type){let a="";"posterframe"in e[t][n][i]&&(a='poster="'+e[t][n][i].posterframe+'" '),$(".panel__collection").append(s+'<div class="panel__sidebar"><div class="panel__controls"><button class="panel__play">Play Video</button>\x3c!--<button class="panel__2x">2x</button>--!></div><div class="panel__body"><div class="panel__runtime">Runtime: '+e[t][n][i].runtime+"</div>"+e[t][n][i].body+'</div></div><div class="panel__content-wrapper"><video style="width:'+e[t][n][i].width+'px" '+a+'style="width:420px;height:315px;" controls="" preload="auto"><source src="'+e[t][n][i].image+'" type="video/mp4"></video></div></div>')}else if("website"==e[t][n][i].type)$(".panel__collection").append(s+'<div class="panel__body">'+e[t][n][i].body+'<a href="'+e[t][n][i].url+'" target="new">'+e[t][n][i].url.replace("https://","")+'</a></div><div class="panel__content-wrapper"><a href="'+e[t][n][i].url+'" target="new"><img class="panel__image" src="'+e[t][n][i].image+'" style="width:'+e[t][n][i].width+'px" alt="'+e[t][n][i].alt+'"/></a></div></div>');else{let s='<img src="'+e[t][n][i].image+'" class="panel__image" style="width:'+e[t][n][i].width+'px" alt="'+e[t][n][i].alt+'" />';if(e[t][n][i].image.constructor===Array){let a='<div class="imagelayer owl-carousel">',l="</div>";for(elem in e[t][n][i].image)a+='<div><img class="panel__image" src="'+e[t][n][i].image[elem]+'" class="panel__image" style="width:'+e[t][n][i].width+'px"  alt="'+e[t][n][i].alt[[elem]]+'"/></div>';s=a+l}$(".panel__collection").append('<div class="panel__wrapper '+e[t][n][i].type+'" data-title="'+a+'" style="display:none"><div class="panel__title"><span>'+a+"</span><span>"+e[t][n][i].date+'</span></div><div class="panel__body">'+e[t][n][i].body+'<a href="'+e[t][n][i].url+'">'+e[t][n][i].url.replace("https://","")+'</a></div><div class="panel__content-wrapper">'+s+"</div></div>")}}let s=$(".menu__wrapper a").length;$(".menu__wrapper").css("width",100*s).attr("data-width",100).append('<div class="cursor__wrapper"><div class="cursor" style="width:100px"></div></div>'),$(".owl-carousel").each((function(){$(this).hasClass("imagelayer")?$(this).owlCarousel({items:1,nav:!0,loop:!0,center:!0,stagePadding:0}):$(this).owlCarousel({items:$(".submenu__scroller").length,nav:!1,loop:!1,center:!0,stagePadding:0,URLhashListener:!0,autoplayHoverPause:!1,startPosition:"URLHash"})}))})),$(".menu__wrapper").on("click","a",(function(){let e=$(this);$(".menu__wrapper a").removeClass("selected"),e.addClass("selected"),$(".panel__wrapper, .pointer__wrapper").hide(),$(".menu_shadow, .cursor__wrapper, .submenu__wrapper").show();let a=$(".menu__wrapper").data("width");$(".cursor").animate({marginLeft:e.index()*a},200);e.index();if(window.matchMedia("(max-width: 500px)").matches){}else{$('[data-title="'+e.text()+'"] button').length}let t=e.index(),n=Number(e.attr("tabindex"));$(".submenu__item").each((function(e){$(this).attr("tabindex",-1)})),$(".submenu__group").eq(t).find(".submenu__item").each((function(e){$(this).attr("tabindex",e+n+2)}))}));$(".owl-carousel").on("changed.owl.carousel",(function(e){$(".submenu__wrapper").is(":visible")&&($(".panel__wrapper, .pointer__wrapper").hide(),$(".menu__wrapper a").removeClass("selected").eq(e.page.index).addClass("selected"),$(".menu__wrapper a").eq(e.page.index).trigger("click"))})),$(".submenu__wrapper").on("click",".submenu__item",(function(){let e=$(this),a=e.index(),t=e.siblings().length+1;e.addClass("submenu__item--seenit"),$(".pointer__track").css("width",100*t);let n="px",i="500px",s=100*a;window.matchMedia("(max-width: 500px)").matches&&(i="100%",n="%",5==t?(0==a&&(s=11),1==a&&(s=31),2==a&&(s=50),3==a&&(s=69),4==a&&(s=89)):4==t&&(0==a&&(s=15),1==a&&(s=38),2==a&&(s=62),3==a&&(s=85))),$(".pointer__track").css("width",i);let l=e.data("title");$(".panel__wrapper").hide(),$('.panel__wrapper[data-title="'+l+'"], .pointer__wrapper').show(),$(".pointer__arrow").animate({left:s+n},200)}));let e=0;$(document).on("click","body",(function(){e++,5==e&&($(".background__three").fadeOut(),$(".background__one").fadeIn(12e3)),10==e&&($(".background__one").fadeOut(12e3),$(".background__two").fadeIn(12e3)),15==e&&($(".background__two").fadeOut(12e3),$(".background__three").fadeIn(12e3)),20==e&&($(".background__three").fadeOut(12e3),$(".background__one").fadeIn(12e3),e=6)})),$(document).on("click",".panel__controls button:first-child",(function(){let e=$(this),a=e.closest(".panel__wrapper").find("video")[0];-1!=e.text().indexOf("Pause Video")?(a.pause(),e.attr("class","panel__play").html("Play Video")):(a.play(),e.attr("class","panel__pause").html("Pause Video"))})),t=window.setInterval((function(){$("video").each((function(){let e=$(this),a=e.closest(".panel__wrapper").find(".panel__controls button:first-child");1==e[0].paused||1==e[0].ended?a.attr("class","panel__play").html("Play Video"):a.attr("class","panel__pause").html("Pause Video")}))}),333),$(document).on("click",".panel__content-wrapper img",(function(){""!==$(this).prop("style").width?($(this).attr("data-width",$(this).prop("style").width),$(this).removeAttr("style")):$(this).css("width",$(this).attr("data-width"))}))}));